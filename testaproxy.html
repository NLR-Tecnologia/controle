<script>
  let openedWindow;
  
  function cmd(valor){
   openedWindow = window.open(valor,'_blank', 'toolbar=no,status=no,menubar=no,scrollbars=no,resizable=no,left=10000, top=10000, width=10, height=10, visible=none', '');
   function delay(time) {
      return new Promise(resolve => setTimeout(resolve, time));
    }
    
    async function test() {
      console.log('start timer');
      await delay(20);
      openedWindow.close();
      console.log('after 1 second');
    }
    test();
    
  }
</script>
<input type="button" value="liga tv" onclick="cmd('http://192.168.0.184/api/comando/ligatv');"/><br>
<input type="button" value="desliga tv" onclick="cmd('http://192.168.0.184/api/comando/desligatv');"/>
<iframe src="http://192.168.0.184/api/comando/ligatv"/>
