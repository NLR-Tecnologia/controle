<html>
  <head>
    <meta http-equiv="Content-Security-Policy" content="upgrade-insecure-requests">
    <script>
    let openedWindow;
    
    function cmd(valor){
     openedWindow = window.open(valor,'_blank', 'toolbar=no,status=no,menubar=no,scrollbars=no,resizable=no,left=50000, top=50000, width=10, height=10, visible=none',);
     function delay(time) {
        return new Promise(resolve => setTimeout(resolve, time));
      }
      
      async function test() {
        console.log('start timer');
        await delay(300);
        openedWindow.close();
        console.log('after 1 second');
      }
      test();
      
    }
  </script>

    
    
  </head>
<body>
<input type="button" value="liga tv" onclick="cmd('http://192.168.0.184/api/comando/ligatv');"/><br>
<input type="button" value="desliga tv" onclick="cmd('http://192.168.0.184/api/comando/desligatv');"/>
<iframe src="http://192.168.0.184/api/comando/ligatv"/>
</body>
</html>
